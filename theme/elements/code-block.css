*,
*::before {
	font: inherit;
	color: inherit;
	max-width: 100%;
	padding: 0;
	margin: 0;
	box-sizing: border-box;
	-webkit-text-size-adjust: none;
}

:host {
	display: block;
	background-color: var(--paper-1);
	border-radius: var(--border-radius);
	overflow-x: auto;
	tab-size: 2;

	--max-width: 42rem;
	--padding-inline: 0.5em;
	--white-space: pre-wrap;
}

@media (prefers-color-scheme: light) {
	:host {
		--code-0: hsl(0 80% 25%);
		--code-1: hsl(30 100% 25%);
		--code-2: hsl(60 80% 25%);
		--code-3: hsl(120 5% 25%);
		--code-4: hsl(120 5% 40%);
	}
}

@media (prefers-color-scheme: dark) {
	:host {
		--code-0: hsl(0 80% 80%);
		--code-1: hsl(30 100% 80%);
		--code-2: hsl(60 80% 80%);
		--code-3: hsl(120 5% 80%);
		--code-4: hsl(120 5% 65%);
	}
}

@container (width <= 42rem) {
	:host {
		--padding-inline: 0.5em;
		--border-radius: 0;
	}
}

@container (width <= 30rem) {
	:host {
		--white-space: pre;
	}
}

pre {
	font-family: ui-monospace, "Cascadia Code", "Source Code Pro", Menlo, Consolas,
		"DejaVu Sans Mono", monospace;
	font-weight: 400;
	font-variant-ligatures: no-common-ligatures;
	padding: 0;
}

code {
	padding-inline: 0.5em;
	padding-block: 1em;
	counter-reset: lines;
	display: grid;
	grid-template-columns: auto 1fr;
	gap: 0.25em 1em;
}

.source {
	color: var(--code-3);
	white-space: var(--white-space);
	word-break: break-word;
}

.line-number {
	color: var(--code-4);
	counter-increment: lines;
	content: counter(lines);
	display: grid;
	justify-content: end;
}

.function {
	color: var(--code-1);
}

.keyword,
.storage {
	color: var(--code-0);
}

.string,
.numeric,
.boolean,
.null,
.undefined,
.constant,
.path {
	color: var(--code-2);
}

.punctuation,
.parameter,
.spread {
	color: var(--code-3);
}

.comment {
	font-style: italic;
}
