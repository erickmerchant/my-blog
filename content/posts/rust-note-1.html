===
{
  "title": "Rust Note #1",
  "date": "2022-05-25",
  "description": "A little note about Rust. Part of an ongoing series. This one is about using Clippy to lint your Rust code.",
  "components": ["code-block"]
}
===

<p>In the future there should be more of these notes, but this is the first. It is just a little thing I have learned about Rust in the past 2 years of using it.</p>

<h2>Use Clippy</h2>

<p>Run <a href="https://crates.io/crates/clippy">Clippy</a> against your Rust code to lint it for common mistakes and improve your code. It's a great way to learn new little things about the language too.</p>

<p>I once wrote code like this...</p>

<code-block><pre>let mut minifier_options = stylesheet::MinifyOptions::default();

minifier_options.targets = targets;</pre></code-block>

<p>Clippy emitted a warning, "field assignment outside of initializer for an instance created with Default::default()" and recommended I use <a href="https://doc.rust-lang.org/book/ch05-01-defining-structs.html#creating-instances-from-other-instances-with-struct-update-syntax">struct update syntax</a> instead. So I changed the code to...</p>

<code-block><pre>let minifier_options = stylesheet::MinifyOptions {
  targets,
  ..stylesheet::MinifyOptions::default()
};</pre></code-block>

<p>The great thing is that I didn't even know about struct update syntax and now I do.</p>
