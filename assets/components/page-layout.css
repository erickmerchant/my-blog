@layer component {
  :host {
    --tray-open: 0px;
    --tray-width: 70vw;
    --toggle-shadow-size: 0rem;
    --toggle-top: 0.875rem;
    --toggle-height: 2.25rem;
    --toggle-transform: translate(0, 0);
  }

  :host([open]) {
    --toggle-transform: translate(-0.075rem, -0.075rem);
    --toggle-shadow-size: 0.25rem;
    --tray-open: var(--tray-width);
  }

  @media (max-width: 900px) {
    :host {
      --tray-width: calc(100vw - 1rem);
    }
  }

  svg-icon {
    width: 1.25em;
  }

  .toggle {
    position: fixed;
    top: var(--toggle-top);
    left: var(--toggle-top);
    transform: var(--toggle-transform);
    z-index: 3;
    background-color: var(--primary-background);
    border: 0.125rem solid var(--anchor-color);
    border-radius: 0.25rem;
    box-shadow: var(--toggle-shadow-size) var(--toggle-shadow-size) 0
      var(--tertiary-background);
    transition: box-shadow 0.25s var(--easing), transform 0.25s var(--easing);
    color: var(--anchor-color);
    height: var(--toggle-height);
    width: var(--toggle-height);
    display: grid;
    place-content: center;
    appearance: none;
    cursor: pointer;
  }

  .tray {
    position: fixed;
    inset: 0;
    z-index: 0;
    width: var(--tray-width);
    height: 100%;
    overflow: auto;
    display: grid;
    place-content: safe center;
    gap: 2em;
    font-weight: 600;
  }

  .tray * {
    gap: 0.5em;
  }

  .panel {
    position: relative;
    z-index: 1;
    display: grid;
    height: 100%;
    transform: translateX(var(--tray-open));
    transition: var(--tray-transition, transform 0.25s var(--easing));
    color: var(--text-color);
    background-color: var(--primary-background);
  }

  .panel > * {
    display: grid;
    grid-template-rows: min-content 1fr;
    height: 100%;
    transition: opacity 0.25s var(--easing);
  }

  .panel > [inert] {
    opacity: 0.7;
    filter: blur(1px);
  }

  .banner {
    position: sticky;
    top: calc((var(--toggle-top) * 2) + var(--toggle-height) - var(--height));
    z-index: 2;
    background-color: var(--secondary-background);
    background-image: repeating-linear-gradient(
      -45deg,
      hsl(0 0% 0% / 0) 0 0.125rem,
      var(--tertiary-background) 0.125rem 0.25rem
    );
    height: var(--height);
    width: 100%;

    --height: 4rem;
  }

  @media (prefers-reduced-motion) {
    .panel {
      transition: none;
    }
  }
}
