{{#> layout/minefield title="Minefield"}}
  <minefield-game
    class="App self"
    style="--width: {{width}}; --height: {{height}};"
  >
    <template shadowroot="open">
      <style>
        @import "/minefield/styles.css";
      </style>

      <div class="Stats self">
        <span class="Stats stat">
          <span>🚩</span>
          {{count}}
        </span>
        <span class="Stats stat">
          <minefield-time>0</minefield-time>
          <span>⏱</span>
        </span>
      </div>

      <div class="Field self">
        {{#each tiles as |tile|}}
          <minefield-tile class="Field tile">
            <template shadowroot="open">
              <style>
                @import "/minefield/styles.css";
              </style>

              <button
                class="Field button shown"
                type="button"
                {{#if tile.neighbors}}
                  style="color: var(--color-{{tile.neighbors}});"
                {{/if}}
              >
                <slot name="shown"></slot>
              </button>
            </template>

            <div slot="hidden"></div>

            {{#if tile.mine}}
              <div slot="shown">💥</div>
            {{else}}
              {{#if tile.neighbors}}
                <div slot="shown">{{tile.neighbors}}</div>
              {{/if}}
            {{/if}}
          </minefield-tile>
        {{/each}}
      </div>
    </template>
  </minefield-game>
{{/layout/minefield}}
